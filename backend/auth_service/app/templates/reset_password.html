{% extends "base.html" %}
{% block content %}
<div class="min-h-screen bg-gray-100 flex items-center">
  <div class="container mx-auto max-w-md shadow-md hover:shadow-lg transition duration-300">
    <div class="py-12 p-10 bg-white rounded-xl">
      <h2 class="text-2xl font-bold text-gray-700 mb-6">Reset Password</h2>
      <form hx-post="/auth/reset_password" hx-headers='{"Content-Type": "application/json"}' hx-target="#form-messages" hx-swap="innerHTML" method="POST" class="space-y-6">
        <div>
            <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
            <input type="email" id="email" name="email" class="border bg-gray-100 py-2 px-4 w-full outline-none focus:ring-2 focus:ring-indigo-400 rounded" placeholder="Your email" required />
        </div>
        <button type="submit" class="w-full text-indigo-50 font-bold bg-indigo-600 py-3 rounded-md hover:bg-indigo-500 transition duration-300">Reset Password</button>
    </form>
     
      <!-- Контейнер для сообщений -->
      <div id="form-messages" class="mt-4"></div>
    </div>
  </div>
</div>
<script>
    document.addEventListener("htmx:configRequest", (event) => {
        if (event.detail.verb === "POST" && event.detail.path === "/auth/reset_password") {
            const formData = new FormData(event.detail.target);
            const jsonData = JSON.stringify(Object.fromEntries(formData));
            event.detail.headers["Content-Type"] = "application/json";
            event.detail.rawPayload = jsonData;
        }
    });
    </script>    
    
{% endblock %}
